// Top-level build file where you can add configuration options common to all sub-projects/modules.
buildscript {
    repositories {
        mavenLocal()
        mavenCentral()
        google()
    }
    dependencies {
        classpath 'com.android.tools.build:gradle:8.2.0-alpha01'
        // NOTE: Do not place your application dependencies here; they belong
        // in the individual module build.gradle files
        classpath('com.google.guava:guava') {
            version {
                strictly '28.1-jre'
            }
        }
    }
}

plugins {
    id("org.jesperancinha.plugins.omni") version "0.3.1"
    id("jacoco")
}

allprojects {
    version = '0.0.0-SNAPSHOT'
    repositories {
        mavenLocal()
        mavenCentral()
        google()
    }
}

jacoco {
    toolVersion = "0.8.7"
}

tasks.withType(Test) {
    reports {
        html.enabled false
    }
    useJUnitPlatform()
    finalizedBy(jacocoTestReport)
}

task jacocoTestReport(type: JacocoReport, dependsOn: tasks.withType(Test)) {
    reports {
        xml.required = true
        csv.required = false
        html.required = false
    }
}